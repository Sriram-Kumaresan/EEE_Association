{"ast":null,"code":"var _jsxFileName = \"D:\\\\EEE_Association\\\\EEE_Association\\\\website\\\\frontend\\\\src\\\\widgets\\\\PhotoUpload\\\\PhotoUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './PhotoUpload.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUpload = () => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const preventDefaults = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const highlight = e => {\n    e.currentTarget.classList.add('hover');\n  };\n  const unhighlight = e => {\n    e.currentTarget.classList.remove('hover');\n  };\n  const handleDrop = e => {\n    const dt = e.dataTransfer;\n    const droppedFiles = dt.files;\n    handleFiles(droppedFiles);\n  };\n  const handleFiles = droppedFiles => {\n    const newFiles = Array.from(droppedFiles); // Convert FileList to array\n    setFiles(prevFiles => [...prevFiles, ...newFiles]);\n    uploadFiles(newFiles); // Only upload newly dropped files\n  };\n  const uploadFiles = async fileList => {\n    const url = 'YOUR_BACKEND_API_URL'; // Replace with your backend URL\n    const formData = new FormData();\n    fileList.forEach(file => {\n      formData.append('files', file); // Using the same name for handling on backend\n    });\n    try {\n      const response = await axios.post(url, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Upload successful:', response.data);\n    } catch (error) {\n      console.error('Error uploading files:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"drop-area\",\n    onDragEnter: highlight,\n    onDragOver: preventDefaults,\n    onDragLeave: unhighlight,\n    onDrop: handleDrop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(PhotoUpload, \"aPldHTVBr/g7fY6pAkrAgkA0SoA=\");\n_c = PhotoUpload;\nexport default PhotoUpload;\nvar _c;\n$RefreshReg$(_c, \"PhotoUpload\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","PhotoUpload","_s","files","setFiles","preventDefaults","e","preventDefault","stopPropagation","highlight","currentTarget","classList","add","unhighlight","remove","handleDrop","dt","dataTransfer","droppedFiles","handleFiles","newFiles","Array","from","prevFiles","uploadFiles","fileList","url","formData","FormData","forEach","file","append","response","post","headers","console","log","data","error","id","onDragEnter","onDragOver","onDragLeave","onDrop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/EEE_Association/EEE_Association/website/frontend/src/widgets/PhotoUpload/PhotoUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './PhotoUpload.css';\r\n\r\nconst PhotoUpload = () => {\r\n    const [files, setFiles] = useState([]);\r\n\r\n    const preventDefaults = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const highlight = (e) => {\r\n        e.currentTarget.classList.add('hover');\r\n    };\r\n\r\n    const unhighlight = (e) => {\r\n        e.currentTarget.classList.remove('hover');\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n        const dt = e.dataTransfer;\r\n        const droppedFiles = dt.files;\r\n        handleFiles(droppedFiles);\r\n    };\r\n\r\n    const handleFiles = (droppedFiles) => {\r\n        const newFiles = Array.from(droppedFiles); // Convert FileList to array\r\n        setFiles((prevFiles) => [...prevFiles, ...newFiles]);\r\n        uploadFiles(newFiles); // Only upload newly dropped files\r\n    };\r\n\r\n    const uploadFiles = async (fileList) => {\r\n        const url = 'YOUR_BACKEND_API_URL'; // Replace with your backend URL\r\n        const formData = new FormData();\r\n\r\n        fileList.forEach((file) => {\r\n            formData.append('files', file); // Using the same name for handling on backend\r\n        });\r\n\r\n        try {\r\n            const response = await axios.post(url, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            console.log('Upload successful:', response.data);\r\n        } catch (error) {\r\n            console.error('Error uploading files:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            id=\"drop-area\"\r\n            onDragEnter={highlight}\r\n            onDragOver={preventDefaults}\r\n            onDragLeave={unhighlight}\r\n            onDrop={handleDrop}\r\n        >\r\n            {/* <p>Drag and drop files here, or click to upload</p> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PhotoUpload;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMQ,eAAe,GAAIC,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;EACvB,CAAC;EAED,MAAMC,SAAS,GAAIH,CAAC,IAAK;IACrBA,CAAC,CAACI,aAAa,CAACC,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;EAC1C,CAAC;EAED,MAAMC,WAAW,GAAIP,CAAC,IAAK;IACvBA,CAAC,CAACI,aAAa,CAACC,SAAS,CAACG,MAAM,CAAC,OAAO,CAAC;EAC7C,CAAC;EAED,MAAMC,UAAU,GAAIT,CAAC,IAAK;IACtB,MAAMU,EAAE,GAAGV,CAAC,CAACW,YAAY;IACzB,MAAMC,YAAY,GAAGF,EAAE,CAACb,KAAK;IAC7BgB,WAAW,CAACD,YAAY,CAAC;EAC7B,CAAC;EAED,MAAMC,WAAW,GAAID,YAAY,IAAK;IAClC,MAAME,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACJ,YAAY,CAAC,CAAC,CAAC;IAC3Cd,QAAQ,CAAEmB,SAAS,IAAK,CAAC,GAAGA,SAAS,EAAE,GAAGH,QAAQ,CAAC,CAAC;IACpDI,WAAW,CAACJ,QAAQ,CAAC,CAAC,CAAC;EAC3B,CAAC;EAED,MAAMI,WAAW,GAAG,MAAOC,QAAQ,IAAK;IACpC,MAAMC,GAAG,GAAG,sBAAsB,CAAC,CAAC;IACpC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAE/BH,QAAQ,CAACI,OAAO,CAAEC,IAAI,IAAK;MACvBH,QAAQ,CAACI,MAAM,CAAC,OAAO,EAAED,IAAI,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC;IAEF,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMlC,KAAK,CAACmC,IAAI,CAACP,GAAG,EAAEC,QAAQ,EAAE;QAC7CO,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEJ,QAAQ,CAACK,IAAI,CAAC;IACpD,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD;EACJ,CAAC;EAED,oBACItC,OAAA;IACIuC,EAAE,EAAC,WAAW;IACdC,WAAW,EAAE/B,SAAU;IACvBgC,UAAU,EAAEpC,eAAgB;IAC5BqC,WAAW,EAAE7B,WAAY;IACzB8B,MAAM,EAAE5B;EAAW;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGlB,CAAC;AAEd,CAAC;AAAC7C,EAAA,CA3DID,WAAW;AAAA+C,EAAA,GAAX/C,WAAW;AA6DjB,eAAeA,WAAW;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}